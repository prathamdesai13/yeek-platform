<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <script type="text/html" template-engine="ejs">
            <title><%=menuData.pageTitle%></title>
            <!-- since we're going to wrap this up into a native app, disable zooming on mobile -->
            <meta name='viewport'  content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' />
            <meta name="description" content="<%=menuData.pageDescription%>">
        </script>
    <link href="https://fonts.googleapis.com/css?family=Rubik:300,400,400i,500" rel="stylesheet">
    <link href="assets/css/socicon.css" rel="stylesheet" type="text/css" media="all" />
    <link href="assets/css/entypo.css" rel="stylesheet" type="text/css" media="all" />
    <link href="assets/css/theme.css" rel="stylesheet" type="text/css" media="all" />
    <link rel="manifest" href="/manifest.json">

    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-firestore.js"></script>

    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>
    <script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyCUhpR-X9vCd5Vy7vmJpjKCn9dn_RviNpo",
        authDomain: "yeek-platform.firebaseapp.com",
        databaseURL: "https://yeek-platform.firebaseio.com",
        projectId: "yeek-platform",
        storageBucket: "yeek-platform.appspot.com",
        messagingSenderId: "662027695848"
    };
    firebase.initializeApp(config);
    </script>


    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ethjs@0.3.4/dist/ethjs.min.js"></script>
    <script type="text/javascript" src="assets/js/ejs.js"></script>
    <script type="text/javascript" src="assets/js/ejs-controller.js?v10"></script>
</head>

<body>
    <ctrl src="./controls/nav.html?999" id="mainNav" bind-to="menuData" doNotWrap="true"></ctrl>
    <script type="text/javascript" src="assets/js/constants.js"></script>
    <script type="text/javascript" src="assets/js/token.js"></script>

    <script>
        $(document).ready(() => {
            //Declarative import of HTML web controls using <ctrl> tag
        window.model =  
            {
                menuData: {
                    topLevel:["Platform (Beta)", "Company", "Token", "Exchange"],
                    pageTitle: "Yeek Exchange",
                    pageDescription:"Trade tokens issued by members of the Yeek Community."
                }
            }
            renderDefaultEjsTemplate(model);
            loadControls(model);
        })

    </script>


    <div class="container" style="margin-top:10px">
        <div class="row">
            <div class="col">
                <label>Token Symbol</label>
                <p>
                    <span class="symbol">Loading...</span>
                    <a href="#" id="etherscanUrl">(Blockchain Tracker)</a>
                </p>
            </div>
            <div class="col">
                    <label>Total Supply</label>
                    <p id="totalSupply">Loading...</p>
            </div>    
            <div class="col">
                <label>Decimals</label>
                <p id="decimals">Loading...</p>
            </div>
        </div>
        <br /><br />
    
        <script type="text/html" template-engine="ejs">
        <% if (dropperAddress != '0x0') { %>
            <hr />
            <h3>Airdrop Stats</h3>
            <div class="row">
                <div class="col">
                    <label>Dispensed</label>
                    <p> 
                        <span id="tokensDispensed"></span>
                        <span class="symbol"></span>
                    </p>
                </div>
                <div class="col">
                        <label>Remaining</label>
                        <p> 
                            <span id="tokensRemaining"></span>
                            <span class="symbol"></span>
                        </p>
                 </div>
        
                 <div class="col">
                        <label>Amt/Person</label>
                        <p> 
                            <span id="airdropAmount"></span>
                            <span class="symbol"></span>
                        </p>
                 </div>
            </div>
        
            <p>Your Airdrop Status: <span id="eligibility">Please wait...</span></p>
            <button id="withdrawAirdropTokens" style="width:100%;">Get My Tokens</button>
        <%}%>
        </script>
    
    </div>
</body>
</html>